<header class="header">
  <div class="container">
    <div class="header-content">
      <div class="logo">
        <a routerLink="/" class="logo-link">
          <h1>E_Commerce</h1>
        </a>
      </div>
      
      <div class="nav-desktop">
        <nav class="nav">
          <ul class="nav-list">
            <li class="nav-item">
              <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a routerLink="/favorites" routerLinkActive="active" class="nav-link">Favorites</a>
            </li>
          </ul>
        </nav>
        
        <div class="user-actions">
          <ng-container *ngIf="(currentUser$ | async) as user; else authLinks">
            <div class="user-info">
              <span class="welcome-text">Hello, {{ user.firstName || 'User' }}</span>
              <button (click)="logout()" class="btn-outline logout-btn">Logout</button>
            </div>
          </ng-container>
          
          <ng-template #authLinks>
            <a routerLink="/login" class="btn-outline login-btn">Login</a>
            <a routerLink="/register" class="btn-primary register-btn">Register</a>
          </ng-template>
          
          <a routerLink="/cart" class="cart-icon" aria-label="Cart">
            <div class="cart-wrapper">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
              </svg>
              <span class="cart-count" *ngIf="cartItemsCount > 0">{{ cartItemsCount }}</span>
            </div>
          </a>
        </div>
      </div>
      
      <button class="mobile-menu-btn" (click)="toggleMenu()" aria-label="Toggle menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>
    
    <div class="mobile-menu" [class.open]="isMenuOpen">
      <nav class="mobile-nav">
        <ul class="mobile-nav-list">
          <li class="mobile-nav-item">
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="mobile-nav-link" (click)="toggleMenu()">Home</a>
          </li>
          <li class="mobile-nav-item">
            <a routerLink="/favorites" routerLinkActive="active" class="mobile-nav-link" (click)="toggleMenu()">Favorites</a>
          </li>
          <li class="mobile-nav-item">
            <a routerLink="/cart" routerLinkActive="active" class="mobile-nav-link" (click)="toggleMenu()">
              Cart <span *ngIf="cartItemsCount > 0">({{ cartItemsCount }})</span>
            </a>
          </li>
          <ng-container *ngIf="(currentUser$ | async) as user; else mobileAuthLinks">
            <li class="mobile-nav-item">
              <span class="mobile-welcome-text">Hello, {{ user.firstName || 'User' }}</span>
            </li>
            <li class="mobile-nav-item">
              <button (click)="logout(); toggleMenu()" class="mobile-btn-outline">Logout</button>
            </li>
          </ng-container>
          <ng-template #mobileAuthLinks>
            <li class="mobile-nav-item">
              <a routerLink="/login" class="mobile-nav-link" (click)="toggleMenu()">Login</a>
            </li>
            <li class="mobile-nav-item">
              <a routerLink="/register" class="mobile-nav-link" (click)="toggleMenu()">Register</a>
            </li>
          </ng-template>
        </ul>
      </nav>
    </div>
  </div>
</header>